% spell-checker:disable
\PassOptionsToPackage{table,svgnames,dvipsnames}{xcolor}

\pdfminorversion=7 % changed pdf version, because embeded documents need newer features

\usepackage[utf8]{inputenc} % inputenc package ignored with utf8 based engines
\usepackage[T1]{fontenc}
\usepackage{textcomp} % for good looking copyright and registered symbols and arrows and more symbols
\usepackage[scaled]{helvet} % Schriftart Helvetic, made automatically the default sans serif font
\usepackage[sc]{mathpazo}
\usepackage[ngerman,american]{babel}
\usepackage[autostyle]{csquotes}
\usepackage[%
	backend=biber,
	url=false,
	style=ieee,%alphabetic,
	maxnames=3,
	minnames=3,
	maxbibnames=99]{biblatex}
\setcounter{biburlnumpenalty}{7000} % break urls in bibliography https://texwelt.de/wissen/fragen/7008/zeilenumbruche-in-bibliografielinks
\usepackage{url}
\usepackage[pdftex]{hyperref}
\hypersetup{
  hidelinks,  % hidelinks removes colored boxes around references and links
  breaklinks,
  pdfauthor={\getAuthor},
  pdftitle={\getTitle},
  pdfproducer={\getAuthor},
  pdfcreator={\getAuthor},
  pdfnewwindow=true, % links in new window
  pdfstartview={FitH}}% fits the width of the page to the window
\usepackage{scrhack} % necessary for listings package
\usepackage{listings} % code highlighting
\usepackage{lstautogobble}
% \usepackage{graphicx} % draw graphics
\usepackage{tikz} % draw graphics, will load graphicx
\usetikzlibrary{fit, positioning, shapes}
\usepackage{pgf} % use pgf maths
\usepackage{pgfplots} % plots with tikz
% \usepackage{pgfplotstable} % tables with pgf, we are using booktabs for this
\usepackage{booktabs} % nice tables: https://inf.ethz.ch/personal/markusp/teaching/guides/guide-tables.pdf
\usepackage{float} % require by the H-argument of figure e.g. \begin{figure}[H]
\usepackage[final]{microtype} % better font cerning: http://www.khirevich.com/latex/microtype/
\usepackage{enumitem} % bullet lists
\usepackage[bf]{caption} % figure captions, make figure label bold
\captionsetup{format=plain} % hang caption label in caption text https://tex.stackexchange.com/questions/40163/caption-package-bold-numbering-indents-caption-text-how-to-avoid-that
\captionsetup{width=0.9\textwidth}
\usepackage{subcaption} % caption inside a figure with a caption
\usepackage[perpage, flushmargin, multiple]{footmisc} % reset counters per page and keeps the footnotes aligned and allow comma seperated footnotes
\usepackage{etoolbox} % advanced scripting.. se acronyms def.
\usepackage[toc, page]{appendix} % more control over appendix
\usepackage[final]{pdfpages} % allow embedding of pdf documents
\usepackage[super]{nth} % allows to use \nth{3} to print superscriped sec_ond
\usepackage{breakcites} % push long citations into the next line
\usepackage{chngcntr} % change how figures are counted (important for figure referencing)
\counterwithin{figure}{section} % also count sections
%\counterwithin{figure}{subsection} % also count subsections
\counterwithin{table}{section} % also count sections
\usepackage[titles]{tocloft} %\usepackage{underscore} https://tex.stackexchange.com/questions/187180/spacing-problem-at-list-of-figures
\cftsetindents{figure}{0em}{3em}
\cftsetindents{table}{0em}{3em}
%\usepackage[printonlyused]{acronym} % acronyms toc and referencing
\usepackage[acronym, nonumberlist, nopostdot, toc]{glossaries}
\makeglossaries{}

% Silbentrennung:
\usepackage{hyphenat}
%\hyphenation{TUM in-te-res-siert} % Eigene Silbentrennung
\usepackage{seqsplit} % allows splitting long words with \seqsplit

\usepackage[onehalfspacing]{setspace} % 1,5facher Zeilenabstand

\DeclareSourcemap{
  \maps[datatype=bibtex]{
    \map{ % make underscores in dois in biliographies work, when exporting with citavi
      \step[fieldsource=doi, match={\regexp{\{\\textunderscore.*\}}}, replace={_}]% chktex 21
    }
    \map[overwrite]{ % convert url dates to american format
      \step[fieldsource=urldate,
      match=\regexp{([0-9]{2})\.([0-9]{2})\.([0-9]{4})},% chktex 8
      replace={$3-$2-$1},% chktex 46
      final]
    }
  }
}

\bibliography{bibliography}

\interfootnotelinepenalty=10000 % prevent splitting of footnotes to the next page
%\setkomafont{disposition}{\normalfont\sffamily} % use sans serif font for headings
\linespread{1.05} % adjust line spread for mathpazo font
\setlength\parindent{0pt} % remove indents
\setlength\parskip{1ex} % defines the distance between paragrapgs

% Add table of contents to PDF bookmarks
\BeforeTOCHead[toc]{{\cleardoublepage\pdfbookmark[0]{\contentsname}{toc}}}


% Define TUM corporate design colors
% Taken from http://portal.mytum.de/corporatedesign/index_print/vorlagen/index_farben
\definecolor{TUMBlue}{HTML}{0065BD}
\definecolor{TUMSecondaryBlue}{HTML}{005293}
\definecolor{TUMSecondaryBlue2}{HTML}{003359}
\definecolor{TUMBlack}{HTML}{000000}
\definecolor{TUMWhite}{HTML}{FFFFFF}
\definecolor{TUMDarkGray}{HTML}{333333}
\definecolor{TUMGray}{HTML}{808080}
\definecolor{TUMLightGray}{HTML}{CCCCC6}
\definecolor{TUMAccentGray}{HTML}{DAD7CB}
\definecolor{TUMAccentOrange}{HTML}{E37222}
\definecolor{TUMAccentGreen}{HTML}{A2AD00}
\definecolor{TUMAccentLightBlue}{HTML}{98C6EA}
\definecolor{TUMAccentBlue}{HTML}{64A0C8}

\definecolor{CustomGrey}{HTML}{fcfcfc}

% Settings for pgfplots
\pgfplotsset{compat=newest}
\pgfplotsset{
	cycle list={TUMBlue\\TUMAccentOrange\\TUMAccentGreen\\TUMSecondaryBlue2\\TUMDarkGray\\},
}

% Settings for lstlistings
\lstset{%
	basicstyle=\ttfamily\lst@ifdisplaystyle\footnotesize\fi, % Overwrite lstinline settings to use correct fontsize (https://tex.stackexchange.com/questions/161549/scaling-inline-code-to-the-current-font-size)
	columns=fullflexible,
	autogobble,
	extendedchars=true,
	sensitive=true,
	showstringspaces=false,
	showspaces=false,
	numbers=left,
	numberstyle=\scriptsize,
	numbersep=9pt,
	tabsize=2,
	breaklines=true,
	showtabs=false,
	captionpos=b,
	backgroundcolor=\color{CustomGrey},
	keywordstyle=\color{TUMBlue}\bfseries,
	keywordstyle=[2]\color{TUMGray}\bfseries,
	identifierstyle=\color{TUMBlack},
	commentstyle=\color{TUMAccentGreen}\ttfamily,
	stringstyle=\color{TUMAccentOrange}\ttfamily,
	escapechar=\%
}

% chktex-file 18
\lstdefinelanguage{JavaScript}{
	keywords=[1]{break, case, catch, continue, debugger, default, delete, do, else, false, finally, for, function, if, in, instanceof, new, null, return, switch, this, throw, true, try, typeof, var, let, const, void, while, with},
	keywords=[2]{class, export, boolean, throw, implements, import, this},
	morecomment=[l]{//},
	morecomment=[s]{/*}{*/},
	morestring=[b]',
	morestring=[b]",
	morestring=[b]'',
}

\lstdefinelanguage{Protobuf}{
	keywords=[1]{enum, message},
	keywords=[2]{syntax, import, package},
	morecomment=[l]{//},
	morecomment=[s]{/*}{*/},
	morestring=[b]',
	morestring=[b]",
	morestring=[b]''
}



