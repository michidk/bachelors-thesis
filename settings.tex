\PassOptionsToPackage{table,svgnames,dvipsnames}{xcolor}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[sc]{mathpazo}
\usepackage[ngerman,american]{babel}
\usepackage[autostyle]{csquotes}
\usepackage[%
  backend=biber,
  url=false,
  style=alphabetic,
  maxnames=4,
  minnames=3,
  maxbibnames=99,
  giveninits,
  uniquename=init]{biblatex}
\usepackage{url}
\setcounter{biburllcpenalty}{7000}
\setcounter{biburlucpenalty}{8000} % break urls in bibliography
\usepackage{graphicx}
\usepackage{textcomp} % for good looking copyright and registered symbols and arrows and more symbols
\usepackage{scrhack} % necessary for listings package
\usepackage{listings}
\usepackage{lstautogobble}
\usepackage{tikz}
\usetikzlibrary{fit, positioning, shapes}
\usepackage{pgfplots}
\usepackage{pgfplotstable}
\usepackage{booktabs}
\usepackage{float} % require by the H-argument of figure e.g. \begin{figure}[H]
\usepackage[final]{microtype}
\usepackage[hidelinks]{hyperref} % hidelinks removes colored boxes around references and links
\usepackage[printonlyused]{acronym}
\usepackage{enumitem}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{chngcntr} % change how figures are counted (important for figure referencing)
\counterwithin{figure}{section} % also count sections
%\counterwithin{figure}{subsection} % also count subsections
\counterwithin{table}{section} % also count sections
\usepackage[titles]{tocloft} % load with titles argument, so that look and feel of the title of ToC and LoF stays unchanged
\setlength{\cftfignumwidth}{3.5em} % increase distance between numbers and text in list of figures
\setlength{\cfttabnumwidth}{3.5em} 
\usepackage{perpage}
\MakePerPage{footnote} % reset footnotes each page
\interfootnotelinepenalty=10000 % prevent splitting of footnotes to the next page
\usepackage{etoolbox} % advanced scripting.. se acronyms def.


\bibliography{bibliography}

\setkomafont{disposition}{\normalfont\bfseries} % use serif font for headings
\linespread{1.05} % adjust line spread for mathpazo font
\setlength\parindent{0pt} % remove indents
\setlength\parskip{1ex} %TODO: is this legal?

% Add table of contents to PDF bookmarks
\BeforeTOCHead[toc]{{\cleardoublepage\pdfbookmark[0]{\contentsname}{toc}}}

% Define TUM corporate design colors
% Taken from http://portal.mytum.de/corporatedesign/index_print/vorlagen/index_farben
\definecolor{TUMBlue}{HTML}{0065BD}
\definecolor{TUMSecondaryBlue}{HTML}{005293}
\definecolor{TUMSecondaryBlue2}{HTML}{003359}
\definecolor{TUMBlack}{HTML}{000000}
\definecolor{TUMWhite}{HTML}{FFFFFF}
\definecolor{TUMDarkGray}{HTML}{333333}
\definecolor{TUMGray}{HTML}{808080}
\definecolor{TUMLightGray}{HTML}{CCCCC6}
\definecolor{TUMAccentGray}{HTML}{DAD7CB}
\definecolor{TUMAccentOrange}{HTML}{E37222}
\definecolor{TUMAccentGreen}{HTML}{A2AD00}
\definecolor{TUMAccentLightBlue}{HTML}{98C6EA}
\definecolor{TUMAccentBlue}{HTML}{64A0C8}

\definecolor{CustomGrey}{HTML}{fcfcfc}

% Settings for pgfplots
\pgfplotsset{compat=newest}
\pgfplotsset{
  % For available color names, see http://www.latextemplates.com/svgnames-colors
  cycle list={TUMBlue\\TUMAccentOrange\\TUMAccentGreen\\TUMSecondaryBlue2\\TUMDarkGray\\},
}

% Settings for lstlistings
\lstset{%
  basicstyle=\ttfamily\footnotesize,
  columns=fullflexible,
  autogobble,
  extendedchars=true,
  sensitive=true,
  showstringspaces=false,
  showspaces=false,
  numbers=left,
  numberstyle=\scriptsize,
  numbersep=9pt,
  tabsize=2,
  breaklines=true,
  showtabs=false,
  captionpos=b,
  backgroundcolor=\color{CustomGrey},
  keywordstyle=\color{TUMBlue}\bfseries,
  keywordstyle=[2]\color{TUMGray}\bfseries,
  identifierstyle=\color{TUMBlack},
  commentstyle=\color{TUMAccentGreen}\ttfamily,
  stringstyle=\color{TUMAccentOrange}\ttfamily,
  escapechar=\%
}

% chktex-file 18
\lstdefinelanguage{JavaScript}{
  keywords=[1]{break, case, catch, continue, debugger, default, delete, do, else, false, finally, for, function, if, in, instanceof, new, null, return, switch, this, throw, true, try, typeof, var, let, const, void, while, with},
  keywords=[2]{class, export, boolean, throw, implements, import, this},
  morecomment=[l]{//},
  morecomment=[s]{/*}{*/},
  morestring=[b]',
  morestring=[b]",
  morestring=[b]'',
}

\lstdefinelanguage{Protobuf}{
  keywords=[1]{enum, message},
  keywords=[2]{syntax, import, package},
  morecomment=[l]{//},
  morecomment=[s]{/*}{*/},
  morestring=[b]',
  morestring=[b]",
  morestring=[b]''
}